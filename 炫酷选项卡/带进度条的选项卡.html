<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	*{margin: 0;padding: 0;}
		div{
			overflow: hidden;
			position: relative;
			width: 500px;height: 250px;
			border: 5px solid #f00;
			margin: 50px auto;
			text-align: center;
			font-size: 50px;
		}
		li{
			list-style: none;
		}
		ul{position: absolute; top: 0;left: 0;}
		ul li {
			width: 500px;height: 250px;
		}
		ol{position: absolute;bottom: 10px;left: 80px;}
		ol li{
			display: inline-block;
			width: 70px;height: 10px;background: #999;
		}
		li span{display: block;
			height: 100%;background: #fff;width: 0;
		}
	</style>
</head>
<body>
	<div>
		<ul>
			<li style="background: #ccc">1</li>
			<li style="background: #ff0">2</li>
			<li style="background: #0ff">3</li>
			<li style="background: green">4</li>
		</ul>
		<ol>
			<li><span></span></li>
			<li><span></span></li>
			<li><span></span></li>
			<li><span></span></li>
		</ol>
	</div>

	<script type="text/javascript" src="jquery-1.12.4.js"></script>
	<script type="text/javascript">
		var span=$('span');
		var n = 0;

		next();
		function next(){
			span.css('width','0');
			span.eq(n%span.length).animate({
				width:'100%'
			},{
				duration:1000,
				complete:function (){
					n++;

					$('ul').animate({
						top:-250*(n%span.length)+'px'
					},1000)

					// $('ul').css({
					// 	top:-250*(n%span.length)+'px'
					// });

					next();
				}
			});
		}
	</script>
</body>
</html>